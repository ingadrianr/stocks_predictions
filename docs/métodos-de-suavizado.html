<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Métodos de Suavizado | Pronóstico De Índices Financieros</title>
  <meta name="description" content="5 Métodos de Suavizado | Pronóstico De Índices Financieros" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Métodos de Suavizado | Pronóstico De Índices Financieros" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Métodos de Suavizado | Pronóstico De Índices Financieros" />
  
  
  

<meta name="author" content="Adrián Rodríguez Amaya &amp; Katherin Juliana Quiñones Losada" />


<meta name="date" content="2023-05-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="análisis-exploratorio-de-datos.html"/>
<link rel="next" href="metodología-box-jenkins.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Pronóstico De Índices Financieros</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Descargo De Responsabilidad</a></li>
<li class="chapter" data-level="1" data-path="introducción.html"><a href="introducción.html"><i class="fa fa-check"></i><b>1</b> Introducción</a></li>
<li class="chapter" data-level="2" data-path="definiciones.html"><a href="definiciones.html"><i class="fa fa-check"></i><b>2</b> Definiciones</a>
<ul>
<li class="chapter" data-level="2.1" data-path="definiciones.html"><a href="definiciones.html#sp-500-top-10"><i class="fa fa-check"></i><b>2.1</b> S&amp;P 500 Top 10</a></li>
<li class="chapter" data-level="2.2" data-path="definiciones.html"><a href="definiciones.html#cointegración"><i class="fa fa-check"></i><b>2.2</b> Cointegración</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="importación-de-los-datos.html"><a href="importación-de-los-datos.html"><i class="fa fa-check"></i><b>3</b> Importación de los datos</a></li>
<li class="chapter" data-level="4" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html"><i class="fa fa-check"></i><b>4</b> Análisis Exploratorio de Datos</a>
<ul>
<li class="chapter" data-level="4.1" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#comportamiento-inicial-series"><i class="fa fa-check"></i><b>4.1</b> Comportamiento Inicial Series</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#promedio-móvil-y-rezagos"><i class="fa fa-check"></i><b>4.1.1</b> Promedio Móvil y Rezagos</a></li>
<li class="chapter" data-level="4.1.2" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#estacionalidad-descomposicion-aditiva"><i class="fa fa-check"></i><b>4.1.2</b> Estacionalidad (Descomposicion Aditiva)</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#estacionaridad"><i class="fa fa-check"></i><b>4.2</b> Estacionaridad</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#prueba-dickey--fuller-adf-series-naturales"><i class="fa fa-check"></i><b>4.2.1</b> Prueba Dickey- Fuller (ADF) Series naturales</a></li>
<li class="chapter" data-level="4.2.2" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#acf-y-pacf"><i class="fa fa-check"></i><b>4.2.2</b> ACF y PACF</a></li>
<li class="chapter" data-level="4.2.3" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#diferenciación"><i class="fa fa-check"></i><b>4.2.3</b> Diferenciación</a></li>
<li class="chapter" data-level="4.2.4" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#prueba-dickey--fuller-adf-series-diferenciadas"><i class="fa fa-check"></i><b>4.2.4</b> Prueba Dickey- Fuller (ADF) Series diferenciadas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="métodos-de-suavizado.html"><a href="métodos-de-suavizado.html"><i class="fa fa-check"></i><b>5</b> Métodos de Suavizado</a>
<ul>
<li class="chapter" data-level="5.1" data-path="métodos-de-suavizado.html"><a href="métodos-de-suavizado.html#método-de-suavización-exponencial-simple"><i class="fa fa-check"></i><b>5.1</b> Método de Suavización Exponencial Simple</a></li>
<li class="chapter" data-level="5.2" data-path="métodos-de-suavizado.html"><a href="métodos-de-suavizado.html#metodo-de-holt-winters"><i class="fa fa-check"></i><b>5.2</b> Método de Holt-Winters</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html"><i class="fa fa-check"></i><b>6</b> Metodología Box-jenkins</a>
<ul>
<li class="chapter" data-level="6.1" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#identificacion-del-modelo"><i class="fa fa-check"></i><b>6.1</b> Identificacion del modelo</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i><b>7</b> Referencias</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Pronóstico De Índices Financieros</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="métodos-de-suavizado" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> Métodos de Suavizado<a href="métodos-de-suavizado.html#métodos-de-suavizado" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>La finalidad de los métodos de suavización es tratar de reducir las fluctuaciones en datos recopilados a lo largo del tiempo; con esto, se pretenden develar tendencias o ciclos en dichos datos a medida que el ruido y las fluctuaciones son suavizadas. Dentro de los métodos de suavizaciones podemos encontrar la suavización exponencial simple.</p>
<div id="método-de-suavización-exponencial-simple" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Método de Suavización Exponencial Simple<a href="métodos-de-suavizado.html#método-de-suavización-exponencial-simple" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>De acuerdo con [9] “este método se basa en promediar (suavizar) valores pasados de una serie de manera exponencialmente decreciente. La observación más reciente recibe el peso más grande, la siguiente observación más reciente recibe menos peso, la observación de dos periodos en el pasado recibe incluso menos peso, y así́ sucesiva- mente”. Este método de suavización está dado por la siguiente fórmula:</p>
<p><span class="math display">\[\begin{align*}
\hat{Y}_{t+1} = \hat{Y}_{t}+\alpha(Y_{t}-\hat{Y}_{t})
\end{align*}\]</span></p>
<p>Donde:</p>
<p><span class="math inline">\(\hat{Y}_{t+1}=\)</span> nuevo pronóstico<br />
<span class="math inline">\(\hat{Y}_{t}=\)</span> anterior pronóstico<br />
<span class="math inline">\(\alpha =\)</span> ajuste<br />
<span class="math inline">\(Y_{t}-\hat{Y}_{t}\)</span> error en el anterior pronóstico<br />
</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="métodos-de-suavizado.html#cb1-1" aria-hidden="true" tabindex="-1"></a>legend_labels <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb1-2"><a href="métodos-de-suavizado.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">unique</span>(precios<span class="sc">$</span>symbol)){</span>
<span id="cb1-3"><a href="métodos-de-suavizado.html#cb1-3" aria-hidden="true" tabindex="-1"></a>  stock <span class="ot">&lt;-</span> precios[precios<span class="sc">$</span>symbol <span class="sc">==</span> i,]</span>
<span id="cb1-4"><a href="métodos-de-suavizado.html#cb1-4" aria-hidden="true" tabindex="-1"></a>  stock_ts <span class="ot">&lt;-</span> <span class="fu">ts</span>(stock<span class="sc">$</span>close, <span class="at">frequency=</span><span class="dv">5</span>)</span>
<span id="cb1-5"><a href="métodos-de-suavizado.html#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">paste</span>(<span class="st">&quot;Acción: &quot;</span>, i, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>))</span>
<span id="cb1-6"><a href="métodos-de-suavizado.html#cb1-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-7"><a href="métodos-de-suavizado.html#cb1-7" aria-hidden="true" tabindex="-1"></a>  fit_se <span class="ot">&lt;-</span> <span class="fu">HoltWinters</span>(stock_ts, <span class="at">beta =</span> <span class="cn">FALSE</span>, <span class="at">gamma =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-8"><a href="métodos-de-suavizado.html#cb1-8" aria-hidden="true" tabindex="-1"></a>  alpha <span class="ot">&lt;-</span> fit_se<span class="sc">$</span>alpha</span>
<span id="cb1-9"><a href="métodos-de-suavizado.html#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">paste</span>(<span class="st">&quot;Valor Alfa Ajustado: &quot;</span>, alpha, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>))</span>
<span id="cb1-10"><a href="métodos-de-suavizado.html#cb1-10" aria-hidden="true" tabindex="-1"></a>  mae <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>(fit_se<span class="sc">$</span>fitted <span class="sc">-</span> stock_ts))</span>
<span id="cb1-11"><a href="métodos-de-suavizado.html#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">paste</span>(<span class="st">&quot;Mean Absolute Error (MAE): &quot;</span>, mae, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>))</span>
<span id="cb1-12"><a href="métodos-de-suavizado.html#cb1-12" aria-hidden="true" tabindex="-1"></a>  predictions <span class="ot">&lt;-</span> <span class="fu">forecast</span>(fit_se, <span class="at">h =</span> <span class="dv">30</span>)</span>
<span id="cb1-13"><a href="métodos-de-suavizado.html#cb1-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-14"><a href="métodos-de-suavizado.html#cb1-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-15"><a href="métodos-de-suavizado.html#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(fit_se, <span class="at">main =</span> <span class="fu">paste</span>(<span class="st">&quot;Suavizamiento Exponencial Simple para&quot;</span>,i))</span>
<span id="cb1-16"><a href="métodos-de-suavizado.html#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lines</span>(predictions<span class="sc">$</span>mean, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span>
<span id="cb1-17"><a href="métodos-de-suavizado.html#cb1-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">legend</span>(<span class="st">&quot;topleft&quot;</span>, <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&quot;Datos&quot;</span>, <span class="st">&quot;Ajustado&quot;</span>, <span class="st">&quot;Pronostico&quot;</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;black&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>), <span class="at">lty =</span> <span class="dv">1</span> ,<span class="at">cex =</span> <span class="fl">0.5</span>)</span>
<span id="cb1-18"><a href="métodos-de-suavizado.html#cb1-18" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## Acción:  AAPL 
## Valor Alfa Ajustado:  0.990885811212829 
## Mean Absolute Error (MAE):  2.4442271513915</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-1-1.png" width="672" /></p>
<pre><code>## Acción:  MSFT 
## Valor Alfa Ajustado:  0.999925349132791 
## Mean Absolute Error (MAE):  4.46169075890074</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-1-2.png" width="672" /></p>
<pre><code>## Acción:  AMZN 
## Valor Alfa Ajustado:  0.984603434496642 
## Mean Absolute Error (MAE):  2.67787353933152</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-1-3.png" width="672" /></p>
<pre><code>## Acción:  NVDA 
## Valor Alfa Ajustado:  0.999957248211832 
## Mean Absolute Error (MAE):  5.82824203408637</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-1-4.png" width="672" /></p>
<pre><code>## Acción:  GOOGL 
## Valor Alfa Ajustado:  0.972014449484642 
## Mean Absolute Error (MAE):  2.04365055770677</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-1-5.png" width="672" /></p>
<pre><code>## Acción:  BRK-B 
## Valor Alfa Ajustado:  0.999918757082048 
## Mean Absolute Error (MAE):  3.12213343124696</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-1-6.png" width="672" /></p>
<pre><code>## Acción:  GOOG 
## Valor Alfa Ajustado:  0.973162249887982 
## Mean Absolute Error (MAE):  2.04884738951375</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-1-7.png" width="672" /></p>
<pre><code>## Acción:  META 
## Valor Alfa Ajustado:  0.983601209772985 
## Mean Absolute Error (MAE):  4.63619218415052</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-1-8.png" width="672" /></p>
<pre><code>## Acción:  UNH 
## Valor Alfa Ajustado:  0.961248500156347 
## Mean Absolute Error (MAE):  5.85375387983366</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-1-9.png" width="672" /></p>
<pre><code>## Acción:  XOM 
## Valor Alfa Ajustado:  0.996201797918641 
## Mean Absolute Error (MAE):  1.56366851819116</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-1-10.png" width="672" /></p>
<p>Como se puede observar en los anteriores gráficos, la suavización exponencial simple en cuanto al ajuste de los datos, se observa que es bastante parecido a los datos reales. El valor alpha usado en la mayoria de acciones es cercano a 1, lo que permite pensar que la suavizacion no es muy fuerte. Cabe aclarar que, la estimación del valor de alfa, que representa el peso que se le da a las observaciones pasadas en la prediccion de observaciones futuras, la función de Holt-Winters en R lo calcula a partir del método de máxima verosimilitud.</p>
<p>En cuanto a los pronosticos generados en los siguientes 30 días, se observa que no es una buena metodología ya que ofrece casi una linea recta para los valores futuros. Esto indica que como se evidenció en la unidad 4 asociada al EDA, si hay presencia de tendencia y estacionalidad en la serie, es por eso, que esta suavización no funcionó muy bien.</p>
</div>
<div id="metodo-de-holt-winters" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Método de Holt-Winters<a href="métodos-de-suavizado.html#metodo-de-holt-winters" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>De acuerdo con [10], el método de Holt Winters es utilizado para realizar pronósticos del comportamiento de una serie temporal a partir de los datos obtenidos anteriormente. El método se basa en un algoritmo iterativo que a cada tiempo (mes o semana) realiza un pronóstico sobre el comportamiento de la serie en base a promedios debidamente ponderados de los datos anteriores.</p>
<p>Este método tiene dos variantes [11], el multiplicativo dado por la siguiente fórmula:</p>
<p><span class="math inline">\(L_t=\alpha(Y_t/S_{t-p})+(1-\alpha)[L_{t-1}+T_{t-1}]\)</span><br />
<span class="math inline">\(T_t=\gamma[L_t-L_{t-1}]+(1-\gamma)T_{t-1}\)</span><br />
<span class="math inline">\(S_t=\delta(Y_t/L_t)+(1-\delta)S_{t-p}\)</span><br />
<span class="math inline">\(\hat{Y}_{t}=(L_{t-1}+T_{t-1})S_{t-p}\)</span><br />
</p>
<p>El aditivo, dado por la siguiente fórmula:</p>
<p><span class="math inline">\(L_t=\alpha(Y_t - S_{t-p})+(1-\alpha)[L_{t-1}+T_{t-1}]\)</span><br />
<span class="math inline">\(T_t=\gamma[L_t-L_{t-1}]+(1-\gamma)T_{t-1}\)</span><br />
<span class="math inline">\(S_t=\delta(Y_t-L_t)+(1-\delta)S_{t-p}\)</span><br />
<span class="math inline">\(\hat{Y}_{t}=L_{t-1}+T_{t-1}+S_{t-p}\)</span><br />
</p>
<p>Donde:</p>
<p><span class="math inline">\(L_t=\)</span> el nivel en el tiempo t, α es la ponderación para el nivel
<span class="math inline">\(T_t\)</span> tendencia en el tiempo t,
<span class="math inline">\(\gamma=\)</span> la ponderación para la tendencia
<span class="math inline">\(S_t=\)</span> componente estacional en el tiempo t
<span class="math inline">\(\delta=\)</span> la ponderación para el componente estacional
<span class="math inline">\(p=\)</span> período estacional
<span class="math inline">\(Y_t=\)</span> el valor de los datos en el tiempo t
<span class="math inline">\(\hat{Y}_{t}=\)</span> el valor ajustado o el pronóstico de un periodo por anticipado, en el tiempo t</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="métodos-de-suavizado.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">unique</span>(precios<span class="sc">$</span>symbol)){</span>
<span id="cb12-2"><a href="métodos-de-suavizado.html#cb12-2" aria-hidden="true" tabindex="-1"></a>  stock <span class="ot">&lt;-</span> precios[precios<span class="sc">$</span>symbol <span class="sc">==</span> i,]</span>
<span id="cb12-3"><a href="métodos-de-suavizado.html#cb12-3" aria-hidden="true" tabindex="-1"></a>  stock_ts <span class="ot">&lt;-</span> <span class="fu">ts</span>(stock<span class="sc">$</span>close, <span class="at">frequency=</span><span class="dv">5</span>)</span>
<span id="cb12-4"><a href="métodos-de-suavizado.html#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">paste</span>(<span class="st">&quot;Acción: &quot;</span>, i, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>))</span>
<span id="cb12-5"><a href="métodos-de-suavizado.html#cb12-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-6"><a href="métodos-de-suavizado.html#cb12-6" aria-hidden="true" tabindex="-1"></a>  fit_se <span class="ot">&lt;-</span> <span class="fu">HoltWinters</span>(stock_ts, <span class="at">seasonal =</span> <span class="st">&quot;additive&quot;</span>,</span>
<span id="cb12-7"><a href="métodos-de-suavizado.html#cb12-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">alpha =</span> <span class="cn">TRUE</span>,</span>
<span id="cb12-8"><a href="métodos-de-suavizado.html#cb12-8" aria-hidden="true" tabindex="-1"></a>                        <span class="at">beta =</span> <span class="cn">TRUE</span>,</span>
<span id="cb12-9"><a href="métodos-de-suavizado.html#cb12-9" aria-hidden="true" tabindex="-1"></a>                        <span class="at">gamma =</span> <span class="cn">TRUE</span>)</span>
<span id="cb12-10"><a href="métodos-de-suavizado.html#cb12-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-11"><a href="métodos-de-suavizado.html#cb12-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-12"><a href="métodos-de-suavizado.html#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">#cat(paste(&quot;Summary Modelo: &quot;, summary(fit_se), &quot;\n&quot;))</span></span>
<span id="cb12-13"><a href="métodos-de-suavizado.html#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="métodos-de-suavizado.html#cb12-14" aria-hidden="true" tabindex="-1"></a>  mae <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>(fit_se<span class="sc">$</span>fitted <span class="sc">-</span> stock_ts))</span>
<span id="cb12-15"><a href="métodos-de-suavizado.html#cb12-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">paste</span>(<span class="st">&quot;Mean Absolute Error (MAE): &quot;</span>, mae, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>))</span>
<span id="cb12-16"><a href="métodos-de-suavizado.html#cb12-16" aria-hidden="true" tabindex="-1"></a>  predictions <span class="ot">&lt;-</span> <span class="fu">forecast</span>(fit_se, <span class="at">h =</span> <span class="dv">30</span>)</span>
<span id="cb12-17"><a href="métodos-de-suavizado.html#cb12-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-18"><a href="métodos-de-suavizado.html#cb12-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-19"><a href="métodos-de-suavizado.html#cb12-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(fit_se, <span class="at">main =</span> <span class="fu">paste</span>(<span class="st">&quot;Suavizamiento Holt-Winters para&quot;</span>,i))</span>
<span id="cb12-20"><a href="métodos-de-suavizado.html#cb12-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lines</span>(predictions<span class="sc">$</span>mean, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span>
<span id="cb12-21"><a href="métodos-de-suavizado.html#cb12-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-22"><a href="métodos-de-suavizado.html#cb12-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">legend</span>(<span class="st">&quot;topleft&quot;</span>, <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&quot;Datos&quot;</span>, <span class="st">&quot;Ajustado&quot;</span>, <span class="st">&quot;Pronostico&quot;</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;black&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>), <span class="at">lty =</span> <span class="dv">1</span> ,<span class="at">cex =</span> <span class="fl">0.8</span>)</span>
<span id="cb12-23"><a href="métodos-de-suavizado.html#cb12-23" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## Acción:  AAPL 
## Mean Absolute Error (MAE):  78.5837183659531</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-2-1.png" width="672" /></p>
<pre><code>## Acción:  MSFT 
## Mean Absolute Error (MAE):  136.207974828665</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-2-2.png" width="672" /></p>
<pre><code>## Acción:  AMZN 
## Mean Absolute Error (MAE):  61.2433317992049</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-2-3.png" width="672" /></p>
<pre><code>## Acción:  NVDA 
## Mean Absolute Error (MAE):  101.888053006718</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-2-4.png" width="672" /></p>
<pre><code>## Acción:  GOOGL 
## Mean Absolute Error (MAE):  56.4522452085525</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-2-5.png" width="672" /></p>
<pre><code>## Acción:  BRK-B 
## Mean Absolute Error (MAE):  155.121712231895</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-2-6.png" width="672" /></p>
<pre><code>## Acción:  GOOG 
## Mean Absolute Error (MAE):  56.712880598369</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-2-7.png" width="672" /></p>
<pre><code>## Acción:  META 
## Mean Absolute Error (MAE):  93.4162592974924</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-2-8.png" width="672" /></p>
<pre><code>## Acción:  UNH 
## Mean Absolute Error (MAE):  257.438361569868</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-2-9.png" width="672" /></p>
<pre><code>## Acción:  XOM 
## Mean Absolute Error (MAE):  49.6556825082015</code></pre>
<p><img src="stocks-predictions_files/figure-html/05-2-10.png" width="672" /></p>
<p>Se hizo uso de la suavización Holt-Winters aditiva. Se puede observar que para varios casos los valores predichos tienen un comportamiento que sobreestima a los datos reales. Esto puede darse, ya que al implicar cambios producidos por el componente de tendencia y estacionalidad, podria afectar a la realidad. En cuanto al pronostico, es bastante interesante, ya que en muchos casos parece captar estos patrones de tendencia y estacionalidad lo que permite contar con pronosticos mas acertados.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="análisis-exploratorio-de-datos.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="metodología-box-jenkins.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ingadrianr/stocks_predictions/edit/main/05-Suavizaciones.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["stocks-predictions.pdf", "stocks-predictions.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
